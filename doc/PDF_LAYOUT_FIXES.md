# üìã –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–∫–µ—Ç–∞ PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–î–∞—Ç–∞:** 21 –Ω–æ—è–±—Ä—è 2025  
**–§–∞–π–ª:** `api/invoice_html_generator.php`

---

## ‚úÖ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞: 5px ‚úÖ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `padding: 10mm 10mm 5px 10mm` (–±—ã–ª–æ `10mm`)
- `@page { margin-bottom: 5px; }` (–¥–ª—è –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π —Å—Ç–∏–ª–µ–π)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —É–º–µ–Ω—å—à–µ–Ω–∞ –¥–æ 5px
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –¥–ª—è Playwright –∏ mPDF —Å—Ç–∏–ª–µ–π

---

### 2. –õ–æ–≥–∏–∫–∞ –æ—Ç—Å—Ç—É–ø–æ–≤ –¥–ª—è –±–ª–æ–∫–∞ –ø–æ–¥–ø–∏—Å–∏ ‚úÖ

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
- –û—Ç—Å—Ç—É–ø –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ (–ø–æ–∑–∏—Ü–∏–π) –≤ —Ç–∞–±–ª–∏—Ü–µ:
  - 1‚Äì2 —Å—Ç—Ä–æ–∫–∏ ‚Üí `margin-top = 15px`
  - 3 —Å—Ç—Ä–æ–∫–∏ ‚Üí `margin-top = 0px`
  - 4+ —Å—Ç—Ä–æ–∫ ‚Üí `margin-top = -15px`, `signature-text` —Å–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ `+35px` –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏ `-15px` –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`count($data['items'])`).
- –ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  ```php
  $signatureMarginTop = 15;
  $signatureTextOffset = 0;

  if ($itemCount === 3) {
      $signatureMarginTop = 0;
  } elseif ($itemCount >= 4) {
      $signatureMarginTop = -15;
      $signatureTextOffset = 35;
      $signatureTextTopOffset = -15;
  }
  ```
- –í HTML –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è inline-—Å—Ç–∏–ª–∏:
  ```html
  <div class="signature" style="margin-top: -15px;">
  ...
  <div class="signature-text" style="margin-left: 35px; margin-top: -15px;">
  ```
- CSS –ø–æ‚Äë–ø—Ä–µ–∂–Ω–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É –∏ –∑–∞–ø—Ä–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞:
  ```css
  .signature {
      page-break-after: avoid !important;
      margin-bottom: 5px;
  }
  .banking-section {
      overflow: visible;
      margin-bottom: 0;
      padding-bottom: 0;
  }
  @page {
      margin-bottom: 5px;
  }
  ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–¥–ø–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫.
- ‚úÖ –ü—Ä–∏ 4+ —Å—Ç—Ä–æ–∫–∞—Ö –ø–æ–¥–ø–∏—Å—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã.
- ‚úÖ –°–º–µ—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–µ–ª–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –∏ –ø–µ—á–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ —Ä–æ–≤–Ω–æ–π.

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞: 5px
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –±–ª–æ–∫–∞ signature (2/3/4+ —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –±–ª–æ–∫–∞ signature –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 21 –Ω–æ—è–±—Ä—è 2025

